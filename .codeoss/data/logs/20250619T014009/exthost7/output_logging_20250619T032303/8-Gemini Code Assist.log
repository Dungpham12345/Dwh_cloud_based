I0619 03:23:18.395013    4692 serve.go:43] cloudcode_cli (May  8 2025 07:59:00 -0700, cl:756312233 baseline:755919187)
I0619 03:23:18.395066    4692 serve.go:44] Command line: ["/home/diomedes3737/.cache/cloud-code/cloudcode_cli/cloudcode_cli/82761e7f/cloudcode_cli" "duet" "-trace" "-logtostderr"]
I0619 03:23:18.395113    4692 server.go:348] tracing on
I0619 03:23:18.395973    4692 server.go:764] jsonrpc2: --> request #0: initialize: {"processId":4129,"clientInfo":{"name":"Code OSS for Cloud Shell","version":"1.99.3-cde"},"locale":"en","rootPath":"/home/diomedes3737","rootUri":"file:///home/diomedes3737","capabilities":{"workspace":{"applyEdit":true,"workspaceEdit":{"documentChanges":true,"resourceOperations":["create","rename","delete"],"failureHandling":"textOnlyTransactional","normalizesLineEndings":true,"changeAnnotationSupport":{"groupsOnLabel":true}},"configuration":true,"didChangeWatchedFiles":{"dynamicRegistration":true,"relativePatternSupport":true},"symbol":{"dynamicRegistration":true,"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"tagSupport":{"valueSet":[1]},"resolveSupport":{"properties":["location.range"]}},"codeLens":{"refreshSupport":true},"executeCommand":{"dynamicRegistration":true},"didChangeConfiguration":{"dynamicRegistration":true},"workspaceFolders":true,"foldingRange":{"refreshSupport":true},"semanticTokens":{"refreshSupport":true},"fileOperations":{"dynamicRegistration":true,"didCreate":true,"didRename":true,"didDelete":true,"willCreate":true,"willRename":true,"willDelete":true},"inlineValue":{"refreshSupport":true},"inlayHint":{"refreshSupport":true},"diagnostics":{"refreshSupport":true}},"textDocument":{"publishDiagnostics":{"relatedInformation":true,"versionSupport":false,"tagSupport":{"valueSet":[1,2]},"codeDescriptionSupport":true,"dataSupport":true},"synchronization":{"dynamicRegistration":true,"willSave":true,"willSaveWaitUntil":true,"didSave":true},"completion":{"dynamicRegistration":true,"contextSupport":true,"completionItem":{"snippetSupport":true,"commitCharactersSupport":true,"documentationFormat":["markdown","plaintext"],"deprecatedSupport":true,"preselectSupport":true,"tagSupport":{"valueSet":[1]},"insertReplaceSupport":true,"resolveSupport":{"properties":["documentation","detail","additionalTextEdits"]},"insertTextModeSupport":{"valueSet":[1,2]},"labelDetailsSupport":true},"insertTextMode":2,"completionItemKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},"completionList":{"itemDefaults":["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]}},"hover":{"dynamicRegistration":true,"contentFormat":["markdown","plaintext"]},"signatureHelp":{"dynamicRegistration":true,"signatureInformation":{"documentationFormat":["markdown","plaintext"],"parameterInformation":{"labelOffsetSupport":true},"activeParameterSupport":true},"contextSupport":true},"definition":{"dynamicRegistration":true,"linkSupport":true},"references":{"dynamicRegistration":true},"documentHighlight":{"dynamicRegistration":true},"documentSymbol":{"dynamicRegistration":true,"symbolKind":{"valueSet":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]},"hierarchicalDocumentSymbolSupport":true,"tagSupport":{"valueSet":[1]},"labelSupport":true},"codeAction":{"dynamicRegistration":true,"isPreferredSupport":true,"disabledSupport":true,"dataSupport":true,"resolveSupport":{"properties":["edit"]},"codeActionLiteralSupport":{"codeActionKind":{"valueSet":["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}},"honorsChangeAnnotations":true},"codeLens":{"dynamicRegistration":true},"formatting":{"dynamicRegistration":true},"rangeFormatting":{"dynamicRegistration":true,"rangesSupport":true},"onTypeFormatting":{"dynamicRegistration":true},"rename":{"dynamicRegistration":true,"prepareSupport":true,"prepareSupportDefaultBehavior":1,"honorsChangeAnnotations":true},"documentLink":{"dynamicRegistration":true,"tooltipSupport":true},"typeDefinition":{"dynamicRegistration":true,"linkSupport":true},"implementation":{"dynamicRegistration":true,"linkSupport":true},"colorProvider":{"dynamicRegistration":true},"foldingRange":{"dynamicRegistration":true,"rangeLimit":5000,"lineFoldingOnly":true,"foldingRangeKind":{"valueSet":["comment","imports","region"]},"foldingRange":{"collapsedText":false}},"declaration":{"dynamicRegistration":true,"linkSupport":true},"selectionRange":{"dynamicRegistration":true},"callHierarchy":{"dynamicRegistration":true},"semanticTokens":{"dynamicRegistration":true,"tokenTypes":["namespace","type","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","event","function","method","macro","keyword","modifier","comment","string","number","regexp","operator","decorator"],"tokenModifiers":["declaration","definition","readonly","static","deprecated","abstract","async","modification","documentation","defaultLibrary"],"formats":["relative"],"requests":{"range":true,"full":{"delta":true}},"multilineTokenSupport":false,"overlappingTokenSupport":false,"serverCancelSupport":true,"augmentsSyntaxTokens":true},"linkedEditingRange":{"dynamicRegistration":true},"typeHierarchy":{"dynamicRegistration":true},"inlineValue":{"dynamicRegistration":true},"inlayHint":{"dynamicRegistration":true,"resolveSupport":{"properties":["tooltip","textEdits","label.tooltip","label.location","label.command"]}},"diagnostic":{"dynamicRegistration":true,"relatedDocumentSupport":false}},"window":{"showMessage":{"messageActionItem":{"additionalPropertiesSupport":true}},"showDocument":{"support":true},"workDoneProgress":true},"general":{"staleRequestSupport":{"cancel":true,"retryOnContentModified":["textDocument/semanticTokens/full","textDocument/semanticTokens/range","textDocument/semanticTokens/full/delta"]},"regularExpressions":{"engine":"ECMAScript","version":"ES2020"},"markdown":{"parser":"marked","version":"1.1.0"},"positionEncodings":["utf-16"]},"notebookDocument":{"synchronization":{"dynamicRegistration":true,"executionSummarySupport":true}}},"initializationOptions":{"ideSessionIndex":"20250619_5","lsSessionIndex":0,"ideType":"CLOUD_SHELL","ideVersion":"1.99.3-cde","platform":"LINUX_AMD64","pluginVersion":"2.33.0","updateChannel":"","pluginType":"CLOUD_CODE","ideName":"Code OSS for Cloud Shell"},"trace":"off","workspaceFolders":[{"uri":"file:///home/diomedes3737","name":"diomedes3737"}]}
I0619 03:23:18.397463    4692 life_cycle.go:192] Initializing. Architecture: "amd64", Operating system: "linux"
I0619 03:23:18.397912    4692 server.go:764] jsonrpc2: <-- result #0: initialize: {"capabilities":{"textDocumentSync":{"openClose":true,"change":2,"save":{"includeText":true}},"completionProvider":{},"hoverProvider":true,"signatureHelpProvider":{},"codeActionProvider":{"codeActionKinds":["quickfix"],"resolveProvider":true},"documentLinkProvider":{},"executeCommandProvider":{"commands":["_cloudcode.duetAI.ls.completionAccepted","_cloudcode.duetAI.ls.completionRejected","_cloudcode.duetAI.ls.cachedDocs","_cloudcode.duetAI.ls.updateIntellisenseCache","_cloudcode.duetAI.ls.overwriteLastEdit"]},"workspace":{"workspaceFolders":{},"fileOperations":{"didRename":{"filters":[{"scheme":"file","pattern":{"glob":"**","matches":"file"}}]},"didDelete":{"filters":[{"scheme":"file","pattern":{"glob":"**","matches":"file"}}]}}}},"serverInfo":{"name":"Gemini","version":"2.33.0"}}
I0619 03:23:18.458303    4692 server.go:764] jsonrpc2: --> notif: initialized: {}
I0619 03:23:18.458641    4692 server.go:764] jsonrpc2: <-- request #0: client/registerCapability: {"registrations":[{"id":"workspace/didChangeConfiguration","method":"workspace/didChangeConfiguration"},{"id":"workspace/didChangeWatchedFiles","method":"workspace/didChangeWatchedFiles","registerOptions":{"watchers":[{"globPattern":"**","kind":2}]}}]}
I0619 03:23:18.517147    4692 server.go:764] jsonrpc2: --> notif: textDocument/didOpen: {"textDocument":{"uri":"file:///home/diomedes3737/dags/scd2.py","languageId":"python","version":1,"text":"from airflow import DAG\nfrom airflow.operators.python import PythonOperator\nfrom datetime import datetime, timedelta\nfrom google.cloud import bigquery\nimport ast\n\nPROJECT_ID = \"bright-voltage-462902-s0\"\nODS_DATASET = \"ods_hrms\"\nDWH_DATASET = \"recruitment_dwh\"\nQUERY_LOG_TABLE = f\"{PROJECT_ID}.{ODS_DATASET}.query_log\"\n\ndefault_args = {\n    'owner': 'airflow',\n    'start_date': datetime(2025, 1, 1),\n    'retries': 1,\n    'retry_delay': timedelta(minutes=5)\n}\n\nclient = bigquery.Client(project=PROJECT_ID)\n# Tên bảng nguồn → tên bảng đích trong BigQuery\nTABLE_NAME_MAPPING = {\n    \"department\": \"dim_department\",\n    \"employee\": \"dim_employee\",\n    \"job_description\": \"dim_job\",\n    \"candidates\": \"dim_candidate\",\n    \"applyfor\": \"fact_candidate_log\",  # nếu cần SCD cho bảng fact (hiếm)\n    \"person_in_charge\": \"fact_pic_tracking\"\n}\nTABLE_PK_MAPPING = {\n    \"department\": \"dept_id\",\n    \"employee\": \"employee_code\",\n    \"job_description\": \"opening_id\",\n    \"candidates\": \"candidate_id\",\n    \"applyfor\": [\"candidate_id\", \"opening_id\", \"stage_in_time\"],\n    \"person_in_charge\": [\"employee_code\", \"opening_id\"]\n}\n\ndef process_scd2_for_table(table_name):\n    bq_table = TABLE_NAME_MAPPING.get(table_name)\n    pk = TABLE_PK_MAPPING.get(table_name)\n    if not bq_table or not pk:\n        raise ValueError(f\"Mapping không tồn tại cho {table_name}\")\n\n    query = f'''\n    SELECT old_data, new_data\n    FROM `{QUERY_LOG_TABLE}`\n    WHERE affected_table = \"{table_name}\" AND DATE(query_time) = CURRENT_DATE()\n    '''\n    rows = client.query(query).result()\n\n    for row in rows:\n        new_data = ast.literal_eval(row['new_data']) if row['new_data'] else None\n        old_data = ast.literal_eval(row['old_data']) if row['old_data'] else None\n        if not new_data:\n            continue  # skip DELETE\n\n        pk_value = new_data.get(pk)\n        if not pk_value:\n            continue\n\n        check_sql = f'''\n        SELECT * FROM `{PROJECT_ID}.{DWH_DATASET}.{bq_table}`\n        WHERE {pk} = \"{pk_value}\" AND is_current = TRUE\n        '''\n        current_rows = list(client.query(check_sql).result())\n        has_changes = True\n\n        if current_rows:\n            current_record = dict(current_rows[0])\n            has_changes = any(str(new_data.get(k)) != str(current_record.get(k)) for k in new_data)\n\n            if not has_changes:\n                continue\n\n            update_sql = f'''\n            UPDATE `{PROJECT_ID}.{DWH_DATASET}.{bq_table}`\n            SET valid_to = DATE_SUB(CURRENT_DATE(), INTERVAL 1 DAY),\n                is_current = FALSE,\n                updated_at = CURRENT_TIMESTAMP()\n            WHERE {pk} = \"{pk_value}\" AND is_current = TRUE\n            '''\n            client.query(update_sql).result()\n\n        columns = list(new_data.keys()) + [\"valid_from\", \"valid_to\", \"is_current\", \"created_at\", \"updated_at\"]\n        values = [f'\"{new_data.get(col)}\"' if new_data.get(col) is not None else 'NULL' for col in new_data.keys()] + \\\n                 [\"CURRENT_DATE()\", \"NULL\", \"TRUE\", \"CURRENT_TIMESTAMP()\", \"CURRENT_TIMESTAMP()\"]\n\n        insert_sql = f'''\n        INSERT INTO `{PROJECT_ID}.{DWH_DATASET}.{bq_table}`\n        ({\", \".join(columns)})\n        VALUES ({\", \".join(values)})\n        '''\n        client.query(insert_sql).result()\n\n\nwith DAG(\n    dag_id=\"scd2_all_hrm_tables\",\n    schedule_interval=\"@daily\",\n    default_args=default_args,\n    catchup=False\n) as dag:\n\n    table_list = ['employee', 'department', 'job_description', 'candidates', 'applyfor', 'person_in_charge']\n\n    for tbl in table_list:\n        PythonOperator(\n            task_id=f\"scd2_process_{tbl}\",\n            python_callable=process_scd2_for_table,\n            op_args=[tbl]\n        )\n"}}
I0619 03:23:18.525148    4692 server.go:764] jsonrpc2: --> request #0: client/registerCapability: {"registrations":[{"id":"workspace/didChangeConfiguration","method":"workspace/didChangeConfiguration"},{"id":"workspace/didChangeWatchedFiles","method":"workspace/didChangeWatchedFiles","registerOptions":{"watchers":[{"globPattern":"**","kind":2}]}}]}
I0619 03:23:18.525341    4692 server.go:764] jsonrpc2: <-- request #1: workspace/configuration: {"items":[{"section":"cloudcode.aiCompanion"}]}
I0619 03:23:18.530870    4692 server.go:764] jsonrpc2: --> request #1: workspace/configuration: {"items":[{"section":"cloudcode.aiCompanion"}]}
I0619 03:23:18.531015    4692 server.go:764] jsonrpc2: <-- request #2: workspace/configuration: {"items":[{"section":"cloudcode.duetAI"}]}
I0619 03:23:18.532236    4692 server.go:764] jsonrpc2: --> request #2: workspace/configuration: {"items":[{"section":"cloudcode.duetAI"}]}
I0619 03:23:18.532362    4692 server.go:764] jsonrpc2: <-- request #3: workspace/configuration: {"items":[{"section":"geminicodeassist"}]}
I0619 03:23:18.533501    4692 server.go:764] jsonrpc2: --> request #3: workspace/configuration: {"items":[{"section":"geminicodeassist"}]}
I0619 03:23:18.533639    4692 server.go:764] jsonrpc2: <-- request #4: workspace/configuration: {"items":[{"section":"cloudcode"}]}
I0619 03:23:18.535260    4692 server.go:764] jsonrpc2: --> request #4: workspace/configuration: {"items":[{"section":"cloudcode"}]}
I0619 03:23:18.535467    4692 configuration.go:189] product updateChannel will be used
I0619 03:23:18.535526    4692 configuration.go:696] language thresholds: map[]
I0619 03:23:18.535548    4692 configuration.go:637] dataFileExtensions array: [.csv .tsv .jsonl]
I0619 03:23:18.535574    4692 configuration.go:907] atlas codeCompletion llm options: {MaxTokens:64 Temp:0.2 Samples:4 EnablePrompt:<nil> PromptOverride: PostProcess:0xc0014955ed StopSequences:map[] DataFilePromptLines:0}
I0619 03:23:18.535619    4692 configuration.go:907] atlas codeGeneration llm options: {MaxTokens:512 Temp:0.2 Samples:4 EnablePrompt:<nil> PromptOverride: PostProcess:0xc00149560d StopSequences:map[*:[[eod] [EOF] [pre] [suf] [mid]]] DataFilePromptLines:5}
I0619 03:23:18.535785    4692 configuration.go:283] Configured settings for atlasOpts: {"Addr":"","QuotaProject":"","Project":"cloudshell-gca","LogPrompt":true,"UseTypeoverCache":true,"AdaptiveCacheEnabled":false,"InfixCacheEnabled":false,"EnableAdminCitationBlock":false,"EnableAICharactersTelemetry":false,"EnableChatStreaming":false,"Complete":{"MaxTokens":64,"Temp":0.2,"Samples":4,"EnablePrompt":null,"PromptOverride":"","PostProcess":true,"StopSequences":null,"DataFilePromptLines":0},"Generate":{"MaxTokens":512,"Temp":0.2,"Samples":4,"EnablePrompt":null,"PromptOverride":"","PostProcess":true,"StopSequences":{"*":["[eod]","[EOF]","[pre]","[suf]","[mid]"]},"DataFilePromptLines":5},"DataFileExtensions":[".csv",".tsv",".jsonl"]}
I0619 03:23:18.535934    4692 configuration.go:291] Configured settings for cloudCodeOpts: {"Addr":"cloudcode-pa.googleapis.com:443","QuotaProject":"","Project":"cloudshell-gca","LogPrompt":true,"UseTypeoverCache":true,"AdaptiveCacheEnabled":false,"InfixCacheEnabled":false,"EnableAdminCitationBlock":false,"EnableAICharactersTelemetry":false,"EnableChatStreaming":false}
I0619 03:23:18.535978    4692 configuration.go:295] Configured settings for opts: &{trace:true atlasAddr:cloudaicompanion.googleapis.com:443 cloudCodeAddr:cloudcode-pa.googleapis.com:443 cloudCodeQuotaProject: autoGen:false invokeGen:true codeCacheMaxEntries:1024 completionOpts:{debounce:300000000 throttle:100000000 debouncedAfterFetching:false extensionHandlingDebounce:false minScoreThreshold:0 languageThresholds:map[] enableThresholds:true commentCompletion:false citationLengthThreshold:-1 enableRecitations:true citationLogFilePath: repeatedStringFilterThreshold:60 otherFilesGenerationLimit:20 otherFilesGenerationSizeLimit:-1 otherFilesCompletionLimit:0 multiQueryTailNSForCompletion:[] multiQueryTailNSForGeneration:[]} contextExclusionFile:.aiexclude chatOpts:{contextOrdering:fsu maxFileBytes:75000 maxHistoryBytes:500000 escapeContext:false otherFilesLimit:20 otherFilesSizeLimit:-1 userSelectedFilesSizeLimit:-1} useRest:<nil> useCloudCodeAPI:true enableChatStreaming:false enableNotebooks:false enableRAGL:false enableRAGLCompletion:false enableRAGLChat:false enableRAGLCompletionSnippets:false ragLRerankByLangBoost:0 raglCoLocated:20 raglIncludeDocFiles:false raglIncludeUnitTestFile:false raglMaxFileSearchDepth:1 substringsToIdentifyTestPrompts:[test] substringsToIdentifyDocPrompts:[document comment] raglTopKTestFilesToInclude:0 raglTopKDocFilesToInclude:0 raglTokenizationAlgorithm:whitespace raglEnableWaldFileSelection:false raglWaldMaxFileSearchDepth:0}
I0619 03:23:18.536046    4692 configuration.go:297] Configured settings for canCancelRequests: true
I0619 03:23:18.536057    4692 configuration.go:299] Configured settings for contextPromptOpts: &{Endpoint:}
I0619 03:23:18.536086    4692 server.go:764] jsonrpc2: <-- request #5: workspace/configuration: {"items":[{"section":"geminicodeassist.verboseLogging"}]}
I0619 03:23:18.537993    4692 server.go:764] jsonrpc2: --> request #5: workspace/configuration: {"items":[{"section":"geminicodeassist.verboseLogging"}]}
I0619 03:23:18.579219    4692 server.go:764] jsonrpc2: --> request #1: textDocument/codeAction: {"textDocument":{"uri":"file:///home/diomedes3737/dags/scd2.py"},"range":{"start":{"line":0,"character":0},"end":{"line":0,"character":0}},"context":{"diagnostics":[],"triggerKind":2}}
I0619 03:23:18.579290    4692 server.go:764] jsonrpc2: --> request #2: textDocument/codeAction: {"textDocument":{"uri":"file:///home/diomedes3737/dags/scd2.py"},"range":{"start":{"line":0,"character":0},"end":{"line":0,"character":0}},"context":{"diagnostics":[],"triggerKind":2}}
I0619 03:23:18.580183    4692 server.go:764] jsonrpc2: <-- result #1: textDocument/codeAction: null
I0619 03:23:18.580275    4692 server.go:764] jsonrpc2: <-- result #2: textDocument/codeAction: null
I0619 03:23:18.582628    4692 server.go:764] jsonrpc2: --> notif: $/cancelRequest: {"id":1}
I0619 03:23:18.582672    4692 handler.go:159] cancel was requested for: 1, needs to be canceled: false
I0619 03:23:18.582682    4692 handler.go:163] cancel requested for 1 but not found
I0619 03:23:18.582722    4692 server.go:764] jsonrpc2: --> request #3: textDocument/documentLink: {"textDocument":{"uri":"file:///home/diomedes3737/dags/scd2.py"}}
I0619 03:23:18.582806    4692 server.go:764] jsonrpc2: <-- result #3: textDocument/documentLink: null
I0619 03:23:18.673346    4692 server.go:764] jsonrpc2: --> notif: telemetry/sendEvents: {"event_name":"cloudcode.experiment.list","event_data":{"console_type":"CLOUDCODE_VSCODE","client_email":"diomedes3737@gmail.com","environment":"PROD"},"metadata":{"cloudcode_event_stack":"cloudcode.experiment.list","editor_version":"1.99.3-cde","editor_name":"Code OSS for Cloud Shell","ext_name":"googlecloudtools.cloudcode","ext_version":"2.33.0","os_platform":"linux","arch_platform":"x64","os_release":"6.6.87+","change_list":"756317119","built_on":"2025-05-14T22:29:55.638Z","is_cloud_workstations":"false","is_cloud_shell":"true","tier_id":"standard-tier","dependency_state":"unchecked"}}
I0619 03:23:18.848488    4692 server.go:764] jsonrpc2: --> notif: telemetry/sendEvents: {"event_name":"cloudcode.experiment.list","event_data":{"console_type":"CLOUDCODE_VSCODE","client_email":"diomedes3737@gmail.com","environment":"PROD"},"metadata":{"cloudcode_event_stack":"cloudcode.experiment.list","editor_version":"1.99.3-cde","editor_name":"Code OSS for Cloud Shell","ext_name":"googlecloudtools.cloudcode","ext_version":"2.33.0","os_platform":"linux","arch_platform":"x64","os_release":"6.6.87+","change_list":"756317119","built_on":"2025-05-14T22:29:55.638Z","is_cloud_workstations":"false","is_cloud_shell":"true","tier_id":"standard-tier","dependency_state":"unchecked"}}
I0619 03:23:19.505257    4692 server.go:764] jsonrpc2: --> notif: workspace/didChangeWatchedFiles: {"changes":[{"uri":"file:///home/diomedes3737/.codeoss/data/logs/20250619T014009/exthost7/output_logging_20250619T032303/8-Gemini%20Code%20Assist.log","type":2},{"uri":"file:///home/diomedes3737/.codeoss/data/logs/20250619T014009/exthost7/output_logging_20250619T032303/8-Gemini%20Code%20Assist.log","type":2},{"uri":"file:///home/diomedes3737/.codeoss/data/User/workspaceStorage/e0092ac-1/vscode.lock","type":2},{"uri":"file:///home/diomedes3737/.codeoss/data/User/workspaceStorage/e0092ac-2/vscode.lock","type":2},{"uri":"file:///home/diomedes3737/.codeoss/data/logs/20250619T014009/exthost6/output_logging_20250619T031411/2-Gemini%20Code%20Assist.log","type":2},{"uri":"file:///home/diomedes3737/.codeoss/data/logs/20250619T014009/exthost7/output_logging_20250619T032303/8-Gemini%20Code%20Assist.log","type":2},{"uri":"file:///home/diomedes3737/.codeoss/data/logs/20250619T014009/exthost7/output_logging_20250619T032303/8-Gemini%20Code%20Assist.log","type":2},{"uri":"file:///home/diomedes3737/.codeoss/data/User/workspaceStorage/e0092ac/vscode.lock","type":2}]}
I0619 03:23:19.789187    4692 server.go:764] jsonrpc2: --> request #4: experiments/update: {"experimentIds":[104625343,101868197,104741793,101776995,104741398,102880936,103103414,101659471,103322321,102873703,102532169,94795895,103012598,103102132,102617194,102514864,104522852,104522816,104522825,104764657,102461832,103335925,102958607,102521117,103118072,104625340,101551624,104741789,101776993,104741395,102880932,101659468,103322315,102873698,102532166,94795892,103012592,103102126,102519585,102464979,104522849,104522813,104522822,104764653,102461829,103335922,102958601,102521114,103118069],"flags":[{"name":"Chat__enable_chat_gemini_cli","value":false},{"name":"GcaFlashCompletions__enable_client_postprocessing","value":false},{"name":"GcaTelemetryBlock__enable_telemetry_block","value":false},{"name":"DuetAiGeneration__codeGeneration_enable_diff_view","value":false},{"name":"DuetAiGeneration__codeGeneration_pane_view_default_config","value":false},{"name":"DuetAiLocalRag__enable_local_rag_chat","value":true},{"name":"DuetAiMendelOverrides__enable_gca_intent_classification_as_default_model","value":false},{"name":"ApigeeCloudCode__enable_mock_server","value":true},{"name":"Chat__enable_chat_folder_context_selection","value":true},{"name":"DuetAICodeTransform__enable_m2","value":true},{"name":"DuetAiGeneration__auto_trigger_on_empty_class_struct_def","value":true},{"name":"DuetAiLocalRag__enable_local_rag_completion_snippets_with_pruning","value":false},{"name":"GeminiFreeTier__call_onboard_user_from_legacy_flow","value":true},{"name":"Chat__enable_chat_named_entity_recognition","value":false},{"name":"DuetAiCompletion__codeCompletion_triggerForDeletion","value":false},{"name":"DuetAiLocalRag__enable_wald_file_selection","value":false},{"name":"FirebaseDataConnectChatTool__enable_firebase_data_connect_chat_tool","value":false},{"name":"GcaFlashCompletions__completion_replaces_cursor_line","value":false},{"name":"GeminiFreeTier__enable_free_tier","value":true},{"name":"Chat__enable_chat_moa","value":false},{"name":"DuetAiLocalRag__enable_local_rag_completion_snippets","value":false},{"name":"DuetAICodeTransformIj__enable_ij","value":false},{"name":"DuetAiGenerationAndCompletion__track_suffix_length","value":false},{"name":"DuetAiLocalRag__enable_local_rag","value":true},{"name":"DuetAiLocalRag__enable_local_rag_completion","value":true},{"name":"GcaTelemetry__enable_ai_characters_percentage","value":true},{"name":"ApigeeGeminiChatTool__enable_apigee_gemini_chat_tool","value":true},{"name":"Chat__enable_full_codebase_awareness_chat","value":true},{"name":"DuetAiProcessors__enable_prompt_recitations_check","value":true},{"name":"SDLCAgents__enable_anthropic_model_connection","value":false},{"name":"UserTelemetry__enable_user_telemetry_call","value":true},{"name":"Chat__enable_local_codebase_awareness_chat_ij","value":true},{"name":"CodeassistMetrics__enable_codeassist_metric","value":false},{"name":"DuetAiRemoteRag__enable_hyde_for_generation","value":false},{"name":"SDLCAgents__enable_rest_model_connection","value":false},{"name":"Chat__enable_chat_background_agent","value":false},{"name":"DuetAiCompletion__codeCompletion_enableInfixCache","value":false},{"name":"Chat__enable_chat_agentic_mcp_chat","value":false},{"name":"Chat__enable_chat_streaming","value":true},{"name":"DuetAiGeneration__codeGeneration_enable_quickpick_chat","value":false},{"name":"DuetAiGeneration__codeGeneration_use_transform_api","value":false},{"name":"DuetAiMendelOverrides__enable_gca_intent_classification_model_for_logging","value":false},{"name":"Chat__enable_chat_intent_classification","value":false},{"name":"DuetAiCompletion__codeCompletion_enableAdaptingCache","value":false},{"name":"DuetAiGeneration__codeGeneration_enable_new_cy_vsc_ux","value":false},{"name":"DuetAiRemoteRag__enable_remote_rag_chat","value":true},{"name":"DuetAiGeneration__codeGeneration_enable_pane_view","value":false},{"name":"GcaAipluginSwingToCompose__enable_compose","value":true},{"name":"GcaFlashCompletions__enable_flash_completions","value":false},{"name":"Chat__display_prompt_recitations","value":true},{"name":"Chat__enable_agentic_chat_ij","value":false},{"name":"Chat__enable_suggested_prompts","value":false},{"name":"DuetAICodeTransform__display_prompt_recitations","value":true},{"name":"DuetAiCloudCodeAPI__enable_cloudcode_api","value":true},{"name":"DuetAiMendelOverrides__inlineSuggestions_debounced_after_fetching","value":true},{"name":"DuetAiRemoteRag__enable_remote_rag","value":true},{"name":"DuetAiGeneration__codeGeneration_enable_codelens_call_to_action","value":false},{"name":"GCAFeedbackBlock__enable_feedback_block","value":false},{"name":"SDLCAgents__enable_azure_model_connection","value":false},{"name":"Chat__enable_chat_crescendo_agents","value":true},{"name":"DuetAiLocalRag__include_doc_files","value":false},{"name":"DuetAiLocalRag__include_unit_test_files","value":false},{"name":"GcaCitationBlock__enable_citation_block","value":false},{"name":"SDLCAgents__enable_gemini_model_connection","value":false},{"name":"DuetAi__custom_preambles","value":true},{"name":"Chat__enable_sessions","value":true},{"name":"Chat__enable_structured_code_edits","value":true},{"name":"DuetAICodeTransform__custom_slash_commands","value":true},{"name":"DuetAi__show_release_notes","value":true},{"name":"Chat__enable_code_view","value":true},{"name":"Chat__enable_text_snippets","value":true},{"name":"Chat__apply_all_changes_button","value":true},{"name":"Chat__enable_workspace_change_in_chat_history","value":true},{"name":"Chat__enable_local_bm25_chat","value":true},{"name":"DuetAiMendelOverrides__gca_intent_classifier_model_name","value":"/ml/m2p-role-prod-intentclassifiergca-servo-owner/prod.intentclassifiergca"},{"name":"DuetAiMendelOverrides__gca_intent_classifier_model_version","value":""},{"name":"Chat__local_bm25_chat_tokenizer","value":"wald_word2"},{"name":"DuetAiLocalRag__local_rag_tokenization_algorithm","value":"wald_word"},{"name":"DuetAiMendelOverrides__chat_clientId","value":"CHAT_CLIENT_CLOUD_CODE_GEMINI_2_0_FLASH_ORC"},{"name":"DuetAiRemoteRag__max_bm25_snippets_rag","value":0},{"name":"DuetAiRemoteRag__max_named_entity_for_chat","value":3},{"name":"Chat__chat_context_window_size","value":-1},{"name":"Chat__lca_chat_context_window_size_ij","value":2100000},{"name":"DuetAiGeneration__codeGeneration_context_window_size","value":64000},{"name":"DuetAiLocalRag__top_k_doc_files_to_include","value":2},{"name":"DuetAiMendelOverrides__inlineSuggestions_debounceMs","value":550},{"name":"DuetAiRemoteRag__max_snippets_tailed_prompt","value":4},{"name":"Chat__local_bm25_chat_max_results","value":10},{"name":"DuetAiLocalRag__max_file_search_depth","value":2},{"name":"DuetAiLocalRag__otherfiles_chat_limit","value":100},{"name":"DuetAiRemoteRag__max_snippets_rag_for_chat","value":2},{"name":"DuetAiRemoteRag__max_snippets_rag_for_selected_code","value":2},{"name":"Chat__fca_chat_context_window_size","value":3500000},{"name":"DuetAiCompletion__adaptingCache_maxInflightRequests","value":2},{"name":"DuetAiLocalRag__otherfiles_completion_limit","value":15},{"name":"DuetAiLocalRag__top_k_test_files_to_include","value":2},{"name":"DuetAiLocalRag__wald_local_rag_max_file_search_depth","value":-1},{"name":"DuetAiMendelOverrides__inlineSuggestions_throttleMs","value":0},{"name":"GeminiFreeTier__license_message_frequency_days","value":60},{"name":"DuetAiLocalRag__otherfiles_generation_limit","value":40},{"name":"DuetAiLocalRag__local_rag_reranking_by_language","value":0},{"name":"DuetAiMendelOverrides__codeCompletion_defaultThreshold","value":-100},{"name":"DuetAiRemoteRag__max_distance_rag_for_chat","value":0.8},{"name":"DuetAiRemoteRag__max_distance_rag_for_selected_code","value":0.8},{"name":"DuetAiRemoteRag__max_distance_tailed_prompt","value":0.4},{"name":"DuetAiLocalRag__cache_co_located","value":20},{"name":"DuetAiLocalRag__cache_file_limit","value":4194300},{"name":"DuetAiLocalRag__cache_total_files","value":250},{"name":"DuetAiRemoteRag__multi_query_tail_ns_for_completion"},{"name":"DuetAiRemoteRag__multi_query_tail_ns_for_generation"},{"name":"DuetAiLocalRag__substrings_to_identify_test_prompts","value":["test"]},{"name":"DuetAiLocalRag__substrings_to_identify_doc_prompts","value":["document","comment"]}]}
I0619 03:23:19.789418    4692 server.go:764] jsonrpc2: --> request #5: workspace/tierConfiguration: {"userDefinedCloudaicompanionProject":true,"projectId":"cloudshell-gca"}
I0619 03:23:19.789915    4692 experiments.go:174] Applied experiment flag "DuetAiLocalRag__enable_local_rag_chat" to enableRAGLChat with value true
I0619 03:23:19.789987    4692 experiments.go:254] Applied experiment flag "DuetAiLocalRag__enable_wald_file_selection" to enableWaldFileSelection with value false
I0619 03:23:19.790005    4692 experiments.go:182] Applied experiment flag "DuetAiLocalRag__enable_local_rag_completion_snippets" to enableRAGLCompletionSnippets with value false
I0619 03:23:19.790018    4692 experiments.go:170] Applied experiment flag "DuetAiLocalRag__enable_local_rag" to enableRAGL with value true
I0619 03:23:19.790028    4692 experiments.go:178] Applied experiment flag "DuetAiLocalRag__enable_local_rag_completion" to enableRAGLCompletion with value true
I0619 03:23:19.790050    4692 experiments.go:163] Applied experiment flag "GcaTelemetry__enable_ai_characters_percentage" to cloudCodeOpts.EnableAICharactersTelemetry with value true
I0619 03:23:19.790077    4692 experiments.go:150] Applied experiment flag "DuetAiCompletion__codeCompletion_enableInfixCache" to cloudCodeOpts.InfixCacheEnabled with value false
I0619 03:23:19.790089    4692 experiments.go:128] Applied experiment flag "Chat__enable_chat_streaming" to chat.enableChatStreaming with value true
I0619 03:23:19.790106    4692 experiments.go:145] Applied experiment flag "DuetAiCompletion__codeCompletion_enableAdaptingCache" to cloudCodeOpts.AdaptiveCacheEnabled with value false
I0619 03:23:19.790129    4692 experiments.go:132] Applied experiment flag "DuetAiCloudCodeAPI__enable_cloudcode_api" to useCloudCodeAPI with value true
I0619 03:23:19.790141    4692 experiments.go:140] Applied experiment flag "DuetAiMendelOverrides__inlineSuggestions_debounced_after_fetching" to completionOpts.debouncedAfterFetching with value true
I0619 03:23:19.790164    4692 experiments.go:218] Applied experiment flag "DuetAiLocalRag__include_doc_files" to includeDocFiles with value false
I0619 03:23:19.790186    4692 experiments.go:222] Applied experiment flag "DuetAiLocalRag__include_unit_test_files" to includeUnitTestFile with value false
I0619 03:23:19.790195    4692 experiments.go:159] Applied experiment flag "GcaCitationBlock__enable_citation_block" to cloudCodeOpts.EnableAdminCitationBlock with value false
I0619 03:23:19.790217    4692 experiments.go:250] Applied experiment flag "DuetAiLocalRag__local_rag_tokenization_algorithm" to localRagTokenizationAlgorithm with value wald_word
I0619 03:23:19.790225    4692 experiments.go:120] Applied experiment flag "Chat__chat_context_window_size" to chat.contextWindowSize with value -1
I0619 03:23:19.790236    4692 experiments.go:116] Applied experiment flag "DuetAiGeneration__codeGeneration_context_window_size" to otherFilesGenerationSizeLimit with value 64000
I0619 03:23:19.790255    4692 experiments.go:238] Applied experiment flag "DuetAiLocalRag__top_k_doc_files_to_include" to topKDocFilesToInclude with value 2
I0619 03:23:19.790266    4692 experiments.go:136] Applied experiment flag "DuetAiMendelOverrides__inlineSuggestions_debounceMs" to completionOpts.debounce with value 550
I0619 03:23:19.790285    4692 experiments.go:226] Applied experiment flag "DuetAiLocalRag__max_file_search_depth" to maxFileSearchDepth with value 2
I0619 03:23:19.790299    4692 experiments.go:206] Applied experiment flag "DuetAiLocalRag__otherfiles_chat_limit" to otherFilesChatLimit with value 100
I0619 03:23:19.790311    4692 experiments.go:124] Applied experiment flag "Chat__fca_chat_context_window_size" to chat.fcaContextWindowSize with value 3500000
I0619 03:23:19.790323    4692 experiments.go:202] Applied experiment flag "DuetAiLocalRag__otherfiles_completion_limit" to otherFilesCompletionLimit with value 15
I0619 03:23:19.790335    4692 experiments.go:242] Applied experiment flag "DuetAiLocalRag__top_k_test_files_to_include" to topKTestFilesToInclude with value 2
I0619 03:23:19.790348    4692 experiments.go:258] Applied experiment flag "DuetAiLocalRag__wald_local_rag_max_file_search_depth" to waldMaxFileSearchDepth with value -1
I0619 03:23:19.790361    4692 experiments.go:186] Applied experiment flag "DuetAiLocalRag__otherfiles_generation_limit" to otherFilesGenerationLimit with value 40
I0619 03:23:19.790381    4692 experiments.go:246] Applied experiment flag "DuetAiLocalRag__local_rag_reranking_by_language" to localRAGRerankingByLanguageParam with value 0
I0619 03:23:19.790397    4692 experiments.go:190] Applied experiment flag "DuetAiLocalRag__cache_co_located" to coLocated with value 20
I0619 03:23:19.790409    4692 experiments.go:194] Applied experiment flag "DuetAiLocalRag__cache_file_limit" to fileLimit with value 4.1943e+06
I0619 03:23:19.790423    4692 experiments.go:198] Applied experiment flag "DuetAiLocalRag__cache_total_files" to totalFiles with value 250
I0619 03:23:19.790434    4692 experiments.go:210] Extracted experiment flag "DuetAiRemoteRag__multi_query_tail_ns_for_completion" to multiQueryTailNS with value []
I0619 03:23:19.790447    4692 experiments.go:214] Extracted experiment flag "DuetAiRemoteRag__multi_query_tail_ns_for_generation" to multiQueryTailNS with value []
I0619 03:23:19.790459    4692 experiments.go:234] Applied experiment flag "DuetAiLocalRag__substrings_to_identify_test_prompts" to substringsToIdentifyTestPrompts with value [test]
I0619 03:23:19.790473    4692 experiments.go:230] Applied experiment flag "DuetAiLocalRag__substrings_to_identify_doc_prompts" to substringsToIdentifyDocPrompts with value [document comment]
I0619 03:23:19.790533    4692 configuration.go:505] Repopulating context cache from document cache
I0619 03:23:19.790569    4692 server.go:764] jsonrpc2: <-- result #4: experiments/update: null
I0619 03:23:19.790657    4692 tier.go:17] Received tier configuration request: {ProjectID:cloudshell-gca UserDefinedCloudaicompanionProject:true}
I0619 03:23:19.790686    4692 server.go:764] jsonrpc2: <-- request #6: workspace/configuration: {"items":[{"section":"cloudcode.aiCompanion"}]}
I0619 03:23:19.791978    4692 server.go:764] jsonrpc2: --> request #6: workspace/configuration: {"items":[{"section":"cloudcode.aiCompanion"}]}
I0619 03:23:19.792112    4692 server.go:764] jsonrpc2: <-- request #7: workspace/configuration: {"items":[{"section":"cloudcode.duetAI"}]}
I0619 03:23:19.792917    4692 server.go:764] jsonrpc2: --> request #7: workspace/configuration: {"items":[{"section":"cloudcode.duetAI"}]}
I0619 03:23:19.793004    4692 server.go:764] jsonrpc2: <-- request #8: workspace/configuration: {"items":[{"section":"geminicodeassist"}]}
I0619 03:23:19.794126    4692 server.go:764] jsonrpc2: --> request #8: workspace/configuration: {"items":[{"section":"geminicodeassist"}]}
I0619 03:23:19.794243    4692 server.go:764] jsonrpc2: <-- request #9: workspace/configuration: {"items":[{"section":"cloudcode"}]}
I0619 03:23:19.795972    4692 server.go:764] jsonrpc2: --> request #9: workspace/configuration: {"items":[{"section":"cloudcode"}]}
I0619 03:23:19.796160    4692 configuration.go:189] product updateChannel will be used
I0619 03:23:19.796211    4692 configuration.go:696] language thresholds: map[]
I0619 03:23:19.796231    4692 configuration.go:637] dataFileExtensions array: [.csv .tsv .jsonl]
I0619 03:23:19.796255    4692 configuration.go:907] atlas codeCompletion llm options: {MaxTokens:64 Temp:0.2 Samples:4 EnablePrompt:<nil> PromptOverride: PostProcess:0xc00160ae5d StopSequences:map[] DataFilePromptLines:0}
I0619 03:23:19.796290    4692 configuration.go:907] atlas codeGeneration llm options: {MaxTokens:512 Temp:0.2 Samples:4 EnablePrompt:<nil> PromptOverride: PostProcess:0xc00160ae7d StopSequences:map[*:[[eod] [EOF] [pre] [suf] [mid]]] DataFilePromptLines:5}
I0619 03:23:19.796330    4692 configuration.go:283] Configured settings for atlasOpts: {"Addr":"","QuotaProject":"","Project":"cloudshell-gca","LogPrompt":true,"UseTypeoverCache":true,"AdaptiveCacheEnabled":false,"InfixCacheEnabled":false,"EnableAdminCitationBlock":false,"EnableAICharactersTelemetry":false,"EnableChatStreaming":false,"Complete":{"MaxTokens":64,"Temp":0.2,"Samples":4,"EnablePrompt":null,"PromptOverride":"","PostProcess":true,"StopSequences":null,"DataFilePromptLines":0},"Generate":{"MaxTokens":512,"Temp":0.2,"Samples":4,"EnablePrompt":null,"PromptOverride":"","PostProcess":true,"StopSequences":{"*":["[eod]","[EOF]","[pre]","[suf]","[mid]"]},"DataFilePromptLines":5},"DataFileExtensions":[".csv",".tsv",".jsonl"]}
I0619 03:23:19.796348    4692 configuration.go:291] Configured settings for cloudCodeOpts: {"Addr":"cloudcode-pa.googleapis.com:443","QuotaProject":"","Project":"cloudshell-gca","LogPrompt":true,"UseTypeoverCache":true,"AdaptiveCacheEnabled":false,"InfixCacheEnabled":false,"EnableAdminCitationBlock":false,"EnableAICharactersTelemetry":false,"EnableChatStreaming":false}
I0619 03:23:19.796359    4692 configuration.go:295] Configured settings for opts: &{trace:true atlasAddr:cloudaicompanion.googleapis.com:443 cloudCodeAddr:cloudcode-pa.googleapis.com:443 cloudCodeQuotaProject: autoGen:false invokeGen:true codeCacheMaxEntries:1024 completionOpts:{debounce:300000000 throttle:100000000 debouncedAfterFetching:false extensionHandlingDebounce:false minScoreThreshold:0 languageThresholds:map[] enableThresholds:true commentCompletion:false citationLengthThreshold:-1 enableRecitations:true citationLogFilePath: repeatedStringFilterThreshold:60 otherFilesGenerationLimit:20 otherFilesGenerationSizeLimit:-1 otherFilesCompletionLimit:0 multiQueryTailNSForCompletion:[] multiQueryTailNSForGeneration:[]} contextExclusionFile:.aiexclude chatOpts:{contextOrdering:fsu maxFileBytes:75000 maxHistoryBytes:500000 escapeContext:false otherFilesLimit:20 otherFilesSizeLimit:-1 userSelectedFilesSizeLimit:-1} useRest:<nil> useCloudCodeAPI:true enableChatStreaming:true enableNotebooks:false enableRAGL:false enableRAGLCompletion:false enableRAGLChat:false enableRAGLCompletionSnippets:false ragLRerankByLangBoost:0 raglCoLocated:20 raglIncludeDocFiles:false raglIncludeUnitTestFile:false raglMaxFileSearchDepth:1 substringsToIdentifyTestPrompts:[test] substringsToIdentifyDocPrompts:[document comment] raglTopKTestFilesToInclude:0 raglTopKDocFilesToInclude:0 raglTokenizationAlgorithm:whitespace raglEnableWaldFileSelection:false raglWaldMaxFileSearchDepth:-1}
I0619 03:23:19.796405    4692 configuration.go:297] Configured settings for canCancelRequests: true
I0619 03:23:19.796416    4692 configuration.go:299] Configured settings for contextPromptOpts: &{Endpoint:}
I0619 03:23:19.796437    4692 server.go:764] jsonrpc2: <-- request #10: workspace/configuration: {"items":[{"section":"geminicodeassist.verboseLogging"}]}
I0619 03:23:19.797095    4692 server.go:764] jsonrpc2: --> request #10: workspace/configuration: {"items":[{"section":"geminicodeassist.verboseLogging"}]}
I0619 03:23:19.797189    4692 experiments.go:174] Applied experiment flag "DuetAiLocalRag__enable_local_rag_chat" to enableRAGLChat with value true
I0619 03:23:19.797233    4692 experiments.go:254] Applied experiment flag "DuetAiLocalRag__enable_wald_file_selection" to enableWaldFileSelection with value false
I0619 03:23:19.797250    4692 experiments.go:182] Applied experiment flag "DuetAiLocalRag__enable_local_rag_completion_snippets" to enableRAGLCompletionSnippets with value false
I0619 03:23:19.797263    4692 experiments.go:170] Applied experiment flag "DuetAiLocalRag__enable_local_rag" to enableRAGL with value true
I0619 03:23:19.797274    4692 experiments.go:178] Applied experiment flag "DuetAiLocalRag__enable_local_rag_completion" to enableRAGLCompletion with value true
I0619 03:23:19.797290    4692 experiments.go:163] Applied experiment flag "GcaTelemetry__enable_ai_characters_percentage" to cloudCodeOpts.EnableAICharactersTelemetry with value true
I0619 03:23:19.797317    4692 experiments.go:150] Applied experiment flag "DuetAiCompletion__codeCompletion_enableInfixCache" to cloudCodeOpts.InfixCacheEnabled with value false
I0619 03:23:19.797330    4692 experiments.go:128] Applied experiment flag "Chat__enable_chat_streaming" to chat.enableChatStreaming with value true
I0619 03:23:19.797348    4692 experiments.go:145] Applied experiment flag "DuetAiCompletion__codeCompletion_enableAdaptingCache" to cloudCodeOpts.AdaptiveCacheEnabled with value false
I0619 03:23:19.797373    4692 experiments.go:132] Applied experiment flag "DuetAiCloudCodeAPI__enable_cloudcode_api" to useCloudCodeAPI with value true
I0619 03:23:19.797387    4692 experiments.go:140] Applied experiment flag "DuetAiMendelOverrides__inlineSuggestions_debounced_after_fetching" to completionOpts.debouncedAfterFetching with value true
I0619 03:23:19.797411    4692 experiments.go:218] Applied experiment flag "DuetAiLocalRag__include_doc_files" to includeDocFiles with value false
I0619 03:23:19.797426    4692 experiments.go:222] Applied experiment flag "DuetAiLocalRag__include_unit_test_files" to includeUnitTestFile with value false
I0619 03:23:19.797439    4692 experiments.go:159] Applied experiment flag "GcaCitationBlock__enable_citation_block" to cloudCodeOpts.EnableAdminCitationBlock with value false
I0619 03:23:19.797485    4692 experiments.go:250] Applied experiment flag "DuetAiLocalRag__local_rag_tokenization_algorithm" to localRagTokenizationAlgorithm with value wald_word
I0619 03:23:19.797499    4692 experiments.go:120] Applied experiment flag "Chat__chat_context_window_size" to chat.contextWindowSize with value -1
I0619 03:23:19.797510    4692 experiments.go:116] Applied experiment flag "DuetAiGeneration__codeGeneration_context_window_size" to otherFilesGenerationSizeLimit with value 64000
I0619 03:23:19.797542    4692 experiments.go:238] Applied experiment flag "DuetAiLocalRag__top_k_doc_files_to_include" to topKDocFilesToInclude with value 2
I0619 03:23:19.797554    4692 experiments.go:136] Applied experiment flag "DuetAiMendelOverrides__inlineSuggestions_debounceMs" to completionOpts.debounce with value 550
I0619 03:23:19.797582    4692 experiments.go:226] Applied experiment flag "DuetAiLocalRag__max_file_search_depth" to maxFileSearchDepth with value 2
I0619 03:23:19.797598    4692 experiments.go:206] Applied experiment flag "DuetAiLocalRag__otherfiles_chat_limit" to otherFilesChatLimit with value 100
I0619 03:23:19.797611    4692 experiments.go:124] Applied experiment flag "Chat__fca_chat_context_window_size" to chat.fcaContextWindowSize with value 3500000
I0619 03:23:19.797625    4692 experiments.go:202] Applied experiment flag "DuetAiLocalRag__otherfiles_completion_limit" to otherFilesCompletionLimit with value 15
I0619 03:23:19.797644    4692 experiments.go:242] Applied experiment flag "DuetAiLocalRag__top_k_test_files_to_include" to topKTestFilesToInclude with value 2
I0619 03:23:19.797663    4692 experiments.go:258] Applied experiment flag "DuetAiLocalRag__wald_local_rag_max_file_search_depth" to waldMaxFileSearchDepth with value -1
I0619 03:23:19.797676    4692 experiments.go:186] Applied experiment flag "DuetAiLocalRag__otherfiles_generation_limit" to otherFilesGenerationLimit with value 40
I0619 03:23:19.797693    4692 experiments.go:246] Applied experiment flag "DuetAiLocalRag__local_rag_reranking_by_language" to localRAGRerankingByLanguageParam with value 0
I0619 03:23:19.797715    4692 experiments.go:190] Applied experiment flag "DuetAiLocalRag__cache_co_located" to coLocated with value 20
I0619 03:23:19.797727    4692 experiments.go:194] Applied experiment flag "DuetAiLocalRag__cache_file_limit" to fileLimit with value 4.1943e+06
I0619 03:23:19.797739    4692 experiments.go:198] Applied experiment flag "DuetAiLocalRag__cache_total_files" to totalFiles with value 250
I0619 03:23:19.797754    4692 experiments.go:210] Extracted experiment flag "DuetAiRemoteRag__multi_query_tail_ns_for_completion" to multiQueryTailNS with value []
I0619 03:23:19.797772    4692 experiments.go:214] Extracted experiment flag "DuetAiRemoteRag__multi_query_tail_ns_for_generation" to multiQueryTailNS with value []
I0619 03:23:19.797790    4692 experiments.go:234] Applied experiment flag "DuetAiLocalRag__substrings_to_identify_test_prompts" to substringsToIdentifyTestPrompts with value [test]
I0619 03:23:19.797809    4692 experiments.go:230] Applied experiment flag "DuetAiLocalRag__substrings_to_identify_doc_prompts" to substringsToIdentifyDocPrompts with value [document comment]
I0619 03:23:19.797848    4692 configuration.go:505] Repopulating context cache from document cache
I0619 03:23:19.797878    4692 server.go:764] jsonrpc2: <-- result #5: workspace/tierConfiguration: true
I0619 03:23:19.799403    4692 server.go:764] jsonrpc2: --> request #6: service/healthcheck: {"projectID":"cloudshell-gca"}
I0619 03:23:19.799616    4692 cloudcode.go:46] Using Cloud Code API
I0619 03:23:19.802336    4692 client.go:511] CompleteCode request: {"enablePromptEnhancement":true,"ideContext":{"currentFile":{"segments":[{"content":"Code Assist healthcheck id: 744fcb2c-13b6-4de2-a3f5-e07057c93b6c\nPi = "},{"isSelected":true},{}]}},"metadata":{"ideName":"Code OSS for Cloud Shell","ideType":"CLOUD_SHELL","ideVersion":"1.99.3-cde","platform":"LINUX_AMD64","pluginType":"CLOUD_CODE","pluginVersion":"2.33.0"},"project":"cloudshell-gca","requestId":"cloudcode-756312233-20f5a431-d68c-4f59-a7f1-bc6d68be1c03"}
I0619 03:23:19.933760    4692 server.go:764] jsonrpc2: --> request #7: experiments/update: {"experimentIds":[104625343,101868197,104741793,101776995,104741398,102880936,103103414,101659471,103322321,102873703,102532169,94795895,103012598,103102132,102617194,102514864,104522852,104522816,104522825,104764657,102461832,103335925,102958607,102521117,103118072,104625340,101551624,104741789,101776993,104741395,102880932,101659468,103322315,102873698,102532166,94795892,103012592,103102126,102519585,102464979,104522849,104522813,104522822,104764653,102461829,103335922,102958601,102521114,103118069],"flags":[{"name":"Chat__enable_chat_gemini_cli","value":false},{"name":"GcaFlashCompletions__enable_client_postprocessing","value":false},{"name":"GcaTelemetryBlock__enable_telemetry_block","value":false},{"name":"DuetAiGeneration__codeGeneration_enable_diff_view","value":false},{"name":"DuetAiGeneration__codeGeneration_pane_view_default_config","value":false},{"name":"DuetAiLocalRag__enable_local_rag_chat","value":true},{"name":"DuetAiMendelOverrides__enable_gca_intent_classification_as_default_model","value":false},{"name":"ApigeeCloudCode__enable_mock_server","value":true},{"name":"Chat__enable_chat_folder_context_selection","value":true},{"name":"DuetAICodeTransform__enable_m2","value":true},{"name":"DuetAiGeneration__auto_trigger_on_empty_class_struct_def","value":true},{"name":"DuetAiLocalRag__enable_local_rag_completion_snippets_with_pruning","value":false},{"name":"GeminiFreeTier__call_onboard_user_from_legacy_flow","value":true},{"name":"Chat__enable_chat_named_entity_recognition","value":false},{"name":"DuetAiCompletion__codeCompletion_triggerForDeletion","value":false},{"name":"DuetAiLocalRag__enable_wald_file_selection","value":false},{"name":"FirebaseDataConnectChatTool__enable_firebase_data_connect_chat_tool","value":false},{"name":"GcaFlashCompletions__completion_replaces_cursor_line","value":false},{"name":"GeminiFreeTier__enable_free_tier","value":true},{"name":"Chat__enable_chat_moa","value":false},{"name":"DuetAiLocalRag__enable_local_rag_completion_snippets","value":false},{"name":"DuetAICodeTransformIj__enable_ij","value":false},{"name":"DuetAiGenerationAndCompletion__track_suffix_length","value":false},{"name":"DuetAiLocalRag__enable_local_rag","value":true},{"name":"DuetAiLocalRag__enable_local_rag_completion","value":true},{"name":"GcaTelemetry__enable_ai_characters_percentage","value":true},{"name":"ApigeeGeminiChatTool__enable_apigee_gemini_chat_tool","value":true},{"name":"Chat__enable_full_codebase_awareness_chat","value":true},{"name":"DuetAiProcessors__enable_prompt_recitations_check","value":true},{"name":"SDLCAgents__enable_anthropic_model_connection","value":false},{"name":"UserTelemetry__enable_user_telemetry_call","value":true},{"name":"Chat__enable_local_codebase_awareness_chat_ij","value":true},{"name":"CodeassistMetrics__enable_codeassist_metric","value":false},{"name":"DuetAiRemoteRag__enable_hyde_for_generation","value":false},{"name":"SDLCAgents__enable_rest_model_connection","value":false},{"name":"Chat__enable_chat_background_agent","value":false},{"name":"DuetAiCompletion__codeCompletion_enableInfixCache","value":false},{"name":"Chat__enable_chat_agentic_mcp_chat","value":false},{"name":"Chat__enable_chat_streaming","value":true},{"name":"DuetAiGeneration__codeGeneration_enable_quickpick_chat","value":false},{"name":"DuetAiGeneration__codeGeneration_use_transform_api","value":false},{"name":"DuetAiMendelOverrides__enable_gca_intent_classification_model_for_logging","value":false},{"name":"Chat__enable_chat_intent_classification","value":false},{"name":"DuetAiCompletion__codeCompletion_enableAdaptingCache","value":false},{"name":"DuetAiGeneration__codeGeneration_enable_new_cy_vsc_ux","value":false},{"name":"DuetAiRemoteRag__enable_remote_rag_chat","value":true},{"name":"DuetAiGeneration__codeGeneration_enable_pane_view","value":false},{"name":"GcaAipluginSwingToCompose__enable_compose","value":true},{"name":"GcaFlashCompletions__enable_flash_completions","value":false},{"name":"Chat__display_prompt_recitations","value":true},{"name":"Chat__enable_agentic_chat_ij","value":false},{"name":"Chat__enable_suggested_prompts","value":false},{"name":"DuetAICodeTransform__display_prompt_recitations","value":true},{"name":"DuetAiCloudCodeAPI__enable_cloudcode_api","value":true},{"name":"DuetAiMendelOverrides__inlineSuggestions_debounced_after_fetching","value":true},{"name":"DuetAiRemoteRag__enable_remote_rag","value":true},{"name":"DuetAiGeneration__codeGeneration_enable_codelens_call_to_action","value":false},{"name":"GCAFeedbackBlock__enable_feedback_block","value":false},{"name":"SDLCAgents__enable_azure_model_connection","value":false},{"name":"Chat__enable_chat_crescendo_agents","value":true},{"name":"DuetAiLocalRag__include_doc_files","value":false},{"name":"DuetAiLocalRag__include_unit_test_files","value":false},{"name":"GcaCitationBlock__enable_citation_block","value":false},{"name":"SDLCAgents__enable_gemini_model_connection","value":false},{"name":"DuetAi__custom_preambles","value":true},{"name":"Chat__enable_sessions","value":true},{"name":"Chat__enable_structured_code_edits","value":true},{"name":"DuetAICodeTransform__custom_slash_commands","value":true},{"name":"DuetAi__show_release_notes","value":true},{"name":"Chat__enable_code_view","value":true},{"name":"Chat__enable_text_snippets","value":true},{"name":"Chat__apply_all_changes_button","value":true},{"name":"Chat__enable_workspace_change_in_chat_history","value":true},{"name":"Chat__enable_local_bm25_chat","value":true},{"name":"DuetAiMendelOverrides__gca_intent_classifier_model_name","value":"/ml/m2p-role-prod-intentclassifiergca-servo-owner/prod.intentclassifiergca"},{"name":"DuetAiMendelOverrides__gca_intent_classifier_model_version","value":""},{"name":"Chat__local_bm25_chat_tokenizer","value":"wald_word2"},{"name":"DuetAiLocalRag__local_rag_tokenization_algorithm","value":"wald_word"},{"name":"DuetAiMendelOverrides__chat_clientId","value":"CHAT_CLIENT_CLOUD_CODE_GEMINI_2_0_FLASH_ORC"},{"name":"DuetAiRemoteRag__max_bm25_snippets_rag","value":0},{"name":"DuetAiRemoteRag__max_named_entity_for_chat","value":3},{"name":"Chat__chat_context_window_size","value":-1},{"name":"Chat__lca_chat_context_window_size_ij","value":2100000},{"name":"DuetAiGeneration__codeGeneration_context_window_size","value":64000},{"name":"DuetAiLocalRag__top_k_doc_files_to_include","value":2},{"name":"DuetAiMendelOverrides__inlineSuggestions_debounceMs","value":550},{"name":"DuetAiRemoteRag__max_snippets_tailed_prompt","value":4},{"name":"Chat__local_bm25_chat_max_results","value":10},{"name":"DuetAiLocalRag__max_file_search_depth","value":2},{"name":"DuetAiLocalRag__otherfiles_chat_limit","value":100},{"name":"DuetAiRemoteRag__max_snippets_rag_for_chat","value":2},{"name":"DuetAiRemoteRag__max_snippets_rag_for_selected_code","value":2},{"name":"Chat__fca_chat_context_window_size","value":3500000},{"name":"DuetAiCompletion__adaptingCache_maxInflightRequests","value":2},{"name":"DuetAiLocalRag__otherfiles_completion_limit","value":15},{"name":"DuetAiLocalRag__top_k_test_files_to_include","value":2},{"name":"DuetAiLocalRag__wald_local_rag_max_file_search_depth","value":-1},{"name":"DuetAiMendelOverrides__inlineSuggestions_throttleMs","value":0},{"name":"GeminiFreeTier__license_message_frequency_days","value":60},{"name":"DuetAiLocalRag__otherfiles_generation_limit","value":40},{"name":"DuetAiLocalRag__local_rag_reranking_by_language","value":0},{"name":"DuetAiMendelOverrides__codeCompletion_defaultThreshold","value":-100},{"name":"DuetAiRemoteRag__max_distance_rag_for_chat","value":0.8},{"name":"DuetAiRemoteRag__max_distance_rag_for_selected_code","value":0.8},{"name":"DuetAiRemoteRag__max_distance_tailed_prompt","value":0.4},{"name":"DuetAiLocalRag__cache_co_located","value":20},{"name":"DuetAiLocalRag__cache_file_limit","value":4194300},{"name":"DuetAiLocalRag__cache_total_files","value":250},{"name":"DuetAiRemoteRag__multi_query_tail_ns_for_completion"},{"name":"DuetAiRemoteRag__multi_query_tail_ns_for_generation"},{"name":"DuetAiLocalRag__substrings_to_identify_test_prompts","value":["test"]},{"name":"DuetAiLocalRag__substrings_to_identify_doc_prompts","value":["document","comment"]}]}
I0619 03:23:19.942134    4692 server.go:764] jsonrpc2: --> notif: workspace/didChangeWatchedFiles: {"changes":[{"uri":"file:///home/diomedes3737/.codeoss/data/logs/20250619T014009/exthost7/output_logging_20250619T032303/8-Gemini%20Code%20Assist.log","type":2}]}
